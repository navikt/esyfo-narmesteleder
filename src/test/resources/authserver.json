{
  "interactiveLogin": true,
  "httpServer": "NettyWrapper",
  "tokenCallbacks": [
    {
      "issuerId": "tokenx",
      "tokenExpiry": 3600,
      "requestMappings": [
        {
          "requestParam": "code",
          "match": "code1",
          "claims": {
            "acr": "${acr}",
            "pid": "${pid}",
            "aud": "${aud}"
          }
        }
      ]
    },
    {
      "issuerId": "maskinporten",
      "tokenExpiry": 3600,
      "requestMappings": [
        {
          "requestParam": "grant_type",
          "match": "urn:ietf:params:oauth:grant-type:jwt-bearer",
          "claims": {
            "sub": "${clientId}",
            "scope": "${scope}",
            "aud": "${aud}",
            "consumer": {
              "authority": "${consumerAuthority}",
              "id": "${consumerId}"
            },
            "supplier": {
              "authority": "${supplierAuthority}",
              "id": "${supplierId}"
            }
          }
        },
        {
          "requestParam": "code",
          "match": "code2",
          "claims": {
            "iss": "http://localhost:8080/maskinporten",
            "client_id": "${clientId}",
            "sub": "${clientId}",
            "scope": "nav:syfo/narmesteleder/lps",
            "aud": "${aud}",
            "consumer": {
              "authority": "${consumerAuthority}",
              "ID": "${consumerId}"
            },
            "supplier": {
              "authority": "${supplierAuthority}",
              "ID": "${supplierId}"
            }
          }
        }
      ]
    }
  ]
}
